<!DOCTYPE html><html><head><title id=title>Favicon Countdown Timer</title><meta charset=utf-8><meta name=copyright content="&amp;copy; 2015 Tim Etler All rights reserved."><meta name=description content="Favitimer puts your countdown timer in your favicon, allowing you to see your timer from any tab at a glance."><meta property=og:site_name content=Favitimer><meta property=og:type content=website><meta property=og:title content="Favicon Countdown Timer"><meta property=og:description content="Favitimer puts your countdown timer in your favicon, allowing you to see your timer from any tab at a glance."><meta property=twitter:url content=http://www.favitimer.com><meta property=twitter:title content="Favicon Countdown Timer"><meta property=twitter:description content="Favitimer puts your countdown timer in your favicon, allowing you to see your timer from any tab at a glance."><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><link id=favicon rel=icon type=image/png href="/"><link type=application/opensearchdescription+xml rel=search href=/search.xml><style>
body,html{width:100%;padding:0;margin:0;font-family:sans-serif;font-size:20pt}form{display:block;margin:4em auto 1em;text-align:center;font-weight:700;color:#888;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}::selection{background:#666;color:#fff}::-moz-selection{background:#666;color:#fff}form input{color:#333;font-weight:700;display:inline-block;width:1.3em;width:2ch;text-align:right;border:0;font-size:inherit;margin:0 .1em 0 .3em}button:focus,form input:focus{outline:none;box-shadow:0 2px currentcolor}button{display:none}canvas{margin:auto}canvas,nav{display:block}nav{position:absolute;width:100%;height:100%;cursor:pointer}.disabled{opacity:.4;cursor:default}#timer{width:240px;height:240px;left:50%;margin-left:-120px;line-height:240px;text-align:center;font-weight:700;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#clear,#timer{position:absolute}#clear{display:none;top:0;right:0;line-height:20px;z-index:1;cursor:pointer}#start,#stop,#text{display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body.complete #start,body.done #stop,body.pause #clear,body.pause #text,body.running #clear,body.running #text{display:block}body.complete #canvas{display:none}body.pause #text{-webkit-animation:a 1s steps(2,end) infinite reverse;animation:a 1s steps(2,end) infinite reverse}#links,#options{position:absolute;font-size:11px;padding:1em 0}#links{bottom:0;right:2em}#options{bottom:0;left:2em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#options input{vertical-align:bottom;margin:0}a,span{display:inline;margin:0 .5em;color:#333;text-decoration:none}@keyframes a{to{opacity:0}}
</style><script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-62406207-1', 'auto');
      ga('send', 'pageview');
    </script></head><body class=complete><form id=form><label><input type=text maxlength=2 name=hours placeholder=0 autocomplete=off pattern=\d*>h</label> <label><input type=text maxlength=2 name=minutes placeholder=0 autocomplete=off pattern=\d*>m</label> <label><input type=text maxlength=2 name=seconds placeholder=0 autocomplete=off pattern=\d*>s</label> <button type=submit></button></form><div id=timer><span id=clear>Ã—</span><nav id=text></nav><nav id=stop>finish</nav><nav id=start class=disabled>start</nav><canvas id=canvas width=240 height=240></canvas></div><div id=options><label><input type=checkbox name=repeat> <span>Repeat</span></label></div><div id=links><a href=http://www.github.com/etler/favitimer>View Readme on GitHub</a></div><script type=text/javascript>
!function(){"use strict";function draw(e,t,n,a){var o,r=e.getContext("2d");o=Math.min(e.height,e.width),r.lineWidth=o/16,t>=1?r.strokeStyle="#00cc00":r.strokeStyle="#dd0000",r.strokeStyle=a||r.strokeStyle,r.font="bold 7.5px monospace",r.textAlign="center",r.fillStyle="#333333",r.clearRect(0,0,e.width,e.height),r.beginPath(),r.arc(o/2,o/2,.375*o,-Math.PI/2,-Math.PI/2+2*Math.PI*t,!1),r.stroke(),n>0&&(n/=1e3,n=Math.ceil(n),n>60&&(n/=60),n>60&&(n/=60),n=Math.floor(n),r.fillText(n,8,11,10))}function drawFavicon(e,t,n,a){draw(e,t,n,a),link.href=e.toDataURL("image/png")}function beep(e,t,n){if(audioContext){var a,o;e=e||500,a=audioContext.createOscillator(),o=audioContext.createGain(),a.connect(o),o.connect(audioContext.destination),o.gain.value=0,a.frequency.value=t,a.start(),o.gain.setTargetAtTime(n,audioContext.currentTime,.005),o.gain.setTargetAtTime(0,audioContext.currentTime+e/1e3,.005)}}function playSequence(e,t){var n,a,o,r,i;return n=function(i){stopInterval(o),t&&(i%=e.length),a=e[i],"number"==typeof a&&(beep(100,1e3,.05),r=n.bind({},i+1),o=startInterval(r,a))},i=function(){stopInterval(o)},n(0),i}function stopInterval(e){"number"==typeof e?clearInterval(e):e&&(e.postMessage({stop:!0}),e.terminate())}function startInterval(e,t){var n;try{n=new Worker(workerURL),n.onmessage=e,n.postMessage({start:!0,ms:t})}catch(a){n=setInterval(e,t)}finally{return n}}function write(e){var t,n=Math.ceil(e/1e3)%60,a=Math.floor(Math.ceil(e/1e3)/60)%60,o=Math.floor(Math.ceil(e/1e3)/3600),r="",i=!1;t=function(){var e;i?(e="#00cc00",i=!1):(e="#dd0000",i=!0),drawFavicon(favicon,1,0,e)},r="",o&&(r+=o+"h "),(o||a)&&(r+=a+"m "),(o||a||n)&&(r+=n+"s"),o||a||n?(title.text=r,text.innerHTML=r):document.getElementsByName("repeat")[0].checked===!0?(playSequence([0],!1),setTimeout(function(){submit()},0)):(title.text="Done!",text.innerHTML=r,stopSequence=playSequence([150,150,1e3],!0),blinkInterval=startInterval(t,1e3),body.setAttribute("class","done"))}function startTimer(e,t,n){if(n||t||e){var a,o=60*e*60*1e3+60*t*1e3+1e3*n,r=(new Date).getTime(),i=r;a=function(){if(paused)return void(r=(new Date).getTime()+i-o);var e=(new Date).getTime(),t=(e-r)/o;i=o-e+r,drawFavicon(favicon,t,i),draw(canvas,t),write(i),t>=1&&stopInterval(updateInterval)},body.setAttribute("class","running"),stopInterval(updateInterval),stopInterval(blinkInterval),stopSequence(),drawFavicon(favicon,0,o),draw(canvas,0),write(o),updateInterval=startInterval(a,50)}}function clearTimer(){paused=!1,stopInterval(updateInterval),stopInterval(blinkInterval),stopSequence(),drawFavicon(favicon,1),title.text="Favicon Countdown Timer",body.setAttribute("class","complete")}function pauseTimer(){paused=!0,body.setAttribute("class","pause")}function resumeTimer(){paused=!1,body.setAttribute("class","running")}function normalizeForm(){var e=Number(form.elements.hours.value||"0"),t=Number(form.elements.minutes.value||"0"),n=Number(form.elements.seconds.value||"0"),a=3600*e+60*t+n;a=Math.min(a,359999),e=Math.floor(a/3600),t=Math.floor(a/60)%60,n=Math.round(a%60),e?form.elements.hours.value=e:form.elements.hours.value="",e||t?form.elements.minutes.value=t:form.elements.minutes.value="",e||t||n?form.elements.seconds.value=n:form.elements.seconds.value=""}function submit(){var e,t,n;paused=!1,normalizeForm(),e=Number(form.elements.hours.value||"0"),t=Number(form.elements.minutes.value||"0"),n=Number(form.elements.seconds.value||"0"),startTimer(e,t,n)}function executeSearch(search){for(var searchRegex=/((?:\d*\.|\d+\s*\/\s*)?\d+)[\s+]*(se?c?o?n?d?s?|mi?n?u?t?e?s?|ho?u?r?s?|$)(?![a-z])/gi,hours=0,minutes=0,seconds=0,match,unit;match=searchRegex.exec(search);)switch(unit=match[2]||"",unit[0]){case"m":minutes=eval(match[1]);break;case"h":hours=eval(match[1]);break;default:seconds=eval(match[1])}(hours||minutes||seconds)&&(start.removeAttribute("class"),hours&&(form.elements.hours.value=hours),minutes&&(form.elements.minutes.value=minutes),seconds&&(form.elements.seconds.value=seconds),submit())}var favicon=document.createElement("canvas"),canvas=document.getElementById("canvas"),link=document.getElementById("favicon"),title=document.getElementById("title"),text=document.getElementById("text"),start=document.getElementById("start"),stop=document.getElementById("stop"),clear=document.getElementById("clear"),form=document.getElementById("form"),body=document.getElementsByTagName("body")[0],updateInterval,blinkInterval,paused,workerURL,audioContext,stopSequence;favicon.height=16,favicon.width=16,workerURL=function(){var e,t,n,a;return t=function(){var e=null;onmessage=function(t){t.data.start&&!e&&(e=setInterval(function(){postMessage("")},t.data.ms)),t.data.stop&&(clearInterval(e),e=null)}},n="("+t.toString()+")();",Blob?e=new Blob([n],{type:"application/javascript"}):(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder)&&(a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,e=new a,e.append(n),e=e.getBlob()),e?URL.createObjectURL(e):"interval.js"}(),audioContext=new(window.AudioContext||window.webkitAudioContext||function(){}),stopSequence=function(){},stop.addEventListener("click",clearTimer),clear.addEventListener("click",clearTimer),start.addEventListener("click",submit),form.addEventListener("submit",function(e){e.preventDefault(),submit()}),document.addEventListener("keyup",function(e){13===e.keyCode&&submit()}),text.addEventListener("click",function(){paused?resumeTimer():pauseTimer()}),Array.prototype.forEach.call(document.getElementsByTagName("input"),function(e){e.addEventListener("keypress",function(e){(!e.keyCode||e.charCode)&&(e.charCode<48||e.charCode>57)&&!e.ctrlKey&&e.preventDefault()}),e.addEventListener("keyup",function(e){var t=Array.prototype.some.call(form.elements,function(e){return e.value});if(t?start.removeAttribute("class"):start.setAttribute("class","disabled"),e.keyCode>=48&&e.keyCode<=57&&e.currentTarget.value.length>=2){var n=Array.prototype.indexOf.call(form.elements,e.currentTarget)+1;"INPUT"===form[n].tagName&&form[n].focus()}})}),drawFavicon(favicon,1),window.location.search?executeSearch(decodeURIComponent(window.location.search)):form.elements.hours.focus()}();
</script></body></html>